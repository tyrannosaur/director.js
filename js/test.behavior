/* Get the latest totals. */

function getPropertyDescriptionList() {
   var props = propList();
   props.addProp(symbol("questionNum"), 
      propList(symbol("comment"), "The question number",symbol("format"), symbol("string"), symbol("default"), ""));
   props.addProp(symbol("memberName"), 
      propList(symbol("comment"), "Member name to put total in",symbol("format"), symbol("member"), symbol("default"), null));
   return props;
}

/* TODO: Format with commas */
function enterFrame(me) {
   var uri = "http://www.torontopearsonforyou.com/jsonp.php";   
   var questionNum = parseInt(me.questionNum).toString();
   var memberName = me.memberName;

   $d.net(uri, {
     complete : function(event) {
       $d.member(memberName).text = JSON.parse(event.data)['totals'][questionNum]['total'];
   }});   
}
